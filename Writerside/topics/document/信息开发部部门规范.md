# 信息开发部工作规范（全员必读）

## 说明

信息开发部工作规范中的内容，是从部门项目开发过程中遇到的重大问题（上线失败、资金损失、系统宕机、上线后出现重大Bug等）中不断总结出的经验、教训。为避免后续项目团队再犯此类错误，特整理成部门工作规范。信息开发部的全体建设成员务必认真阅读，严格遵守。



**规范制度和工作指引的创建、调整原则**

 规范的新增、调整确认后，由发起人统一整理文档后由管理小组进行评审，评审通过后，管理小组邮件发起规范发布申请到部门负责人，确认通过之后，由部门规范管理员发布到语雀。
	工作指引的新增、调整确认后，由发起人统一整理文档后由管理小组进行评审，评审通过后，由部门规范管理员发布到语雀。

## 一、风险识别和管控

**1、系统建设是一件有风险的事，所有团队成员必须要有一颗“敬畏之心”，对于可能造成系统故障、数据丢失等错误的行为要高度警惕并谨慎操作，风险较大的操作必须进行各种形式的** **多重** **确认。**

**1.1**、**高危行为包括但不限于以下几种：**

- - 更改生产数据库记录；
  - 代码发布到生产环境；
  - 在生产服务器上执行各种有风险的命令；
  - 生产服务器上任何文件的变动；
  - 对外提供运营相关数据报表；
  - 生产环境配置类参数调整；
  - 授予非DBA岗位生产环境数据库更改权限。

**1.2**、**生产环境数据库权限规范：**

- - 只有DBA可以拥有更改生产环境数据库表结构权限； 
  - 原则上讲：对于生产环境数据库表数据的更改权限只保留在DBA手里。特殊情况下：项目经理及项目经理明确授权的人可以短期获取生产环境数据库表数据的更改权限，但是授予非DBA岗位生产环境数据库表数据的更改权限务必谨慎，并且根据项目组情况及时将权限回收到DBA手里。

**1.3、** **更改数据库记录规范：**

- - 执行结果不会推主数据：

- - - SQL方案必须评审。

- - - - SQL方案评审结论必须实时知会项目经理。
      - 除以下情况外评审成员必须有项目经理：

- - - - - 确定此SQL风险小并且影响条目小于5条；
        - 特殊情况项目经理无法参与评审。

- - - 执行结果明确会影响其它系统，评审成员要有对应系统的成员。
    - 此SQL会造成执行结果影响范围外的其它业务数据的改动，做好被影响数据的备份恢复方案。（例如：定时任务根据SQL执行后的结果做了其它业务）
    - 执行结果只影响到本项目，项目组内多重确认；
    - 执行结果影响到其它项目，引入影响到的项目组多重确认（被影响方没有确认能力的除外）。
    - 评审和确认必须邮件记录、发布（邮件内容参考《信息开发部SQL评审模板》），邮件发放范围至少是项目组全员，同时要包括可能会影响到的其它团队成员。
    - SQL最终提交后，由DBA岗位人员在生产数据库上执行。
    - SQL语句提交到DBA后，如果DBA判断影响的条目数超过50，必须和项目经理再次确认。

- - 执行结果会推主数据（在以上措施基础上增加以下要求）：

- - - 评审成员必须包括主数据项目成员。

- - - - 评审结论必须指明此次影响的记录条目数量或数量级；
      - 明确影响到的所有具体下游系统，如需要，引入被影响系统成员参与评审；
      - 评审结果邮件记录并发布。

- - - SQL执行前必须告知主数据，并得到主数据项目组的确认。
    - SQL执行前必须告知数据集成团队，并得到确认。
    - 基础数据维护团队需要建立《基础数据字段变更影响系统的指引》，并实时维护。

**2、项目组如有涉及以下技术改造的事项，要获得项目经理批准并且经过部门架构组评审，最终结论同步到部门经理。**

比如：

- 新建项目技术方向选型
- 新建项目技术架构确认
- 引入新的技术框架/组件
- 更换技术框架/组件
- 更换数据库/数据库版本
- 系统平台迁移

**3 、重大工作的任务清单上每一项工作任务必须有 负责人、完成状态、完成时间、“完成标准”、检查人。尤其重点关注“完成标准”尽量准确、完善，必要时引入评审。**

比如：

  平台迁移工作中通常有一项是数据库迁移，应该有完成标准，完成的标准是：

- 库的数量和名称对应；
- 每个库的表的数量和名称对应；
- 每个表的行数列数一致。

## 二、全体人员工作要求（全员必读）

**1、信息开发部的项目建设必须严格遵守信息开发部已发布的过程框架要求（详见过程管理目录下的相关文档）；过程中的关键动作的评审结论，必须进行准确记录和合理传播。**

2、研发各阶段的产出物要按部门相关产出物的模板输出，禁止删除模板里的栏目结构，可视情况进行扩展。
